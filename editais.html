<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Editais - Portal de Estudos</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
    <div class="background-blur dashboard-blur"></div>
    <div class="app-container">

        <nav class="sidebar">
            <div class="logo-area">
                <h2>Portal<span class="highlight">.Estudo</span></h2>
            </div>
            <ul class="nav-links">
                <li><a href="dashboard.html"><span class="material-symbols-outlined">dashboard</span>Vis√£o Geral</a>
                </li>
                <li class="active"><a href="#"><span class="material-symbols-outlined">description</span>Meus
                        Editais</a></li>
                <li><a href="cronograma.html"><span
                            class="material-symbols-outlined">calendar_month</span>Cronograma</a></li>
                <li><a href="turmas.html"><span class="material-symbols-outlined">school</span>Minhas Turmas</a></li>
                <li><a href="painel_tatico.html"><span class="material-symbols-outlined">query_stats</span>Painel
                        T√°tico</a></li>
            </ul>
            <div class="user-profile">
                <div class="avatar-circle">A</div>
                <div class="user-info">
                    <p class="user-name">Aluno Exemplo</p>
                    <a href="index.html" class="logout-link">Sair</a>
                </div>
            </div>
        </nav>


        <main class="main-content">
            <header class="top-bar">
                <div class="welcome-text">
                    <h1>Meus Editais</h1>
                    <p>Selecione um edital para visualizar o conte√∫do program√°tico.</p>
                </div>
            </header>

            <div class="editais-catalog" id="lista-editais">
            </div>
        </main>
    </div>
 <script type="module" src="js/editais.js"></script>
    <script type="module">
        import { db_editais } from './db_editais.js';

        const container = document.getElementById('lista-editais');

        // Renderiza os cards
        db_editais.forEach(edital => {
            const statusClass = edital.aberto ? 'status-open' : 'status-closed';
            const statusText = edital.aberto ? 'Aberto' : 'Previsto';

            container.innerHTML += `
                <div class="catalog-card" onclick="window.location.href='edital-detalhes.html?id=${edital.id}'">
                    <span class="status-badge ${statusClass}">${statusText}</span>
                    <h3 style="color:white; margin-top:10px">${edital.orgao}</h3>
                    <p style="color:var(--primary-blue); font-size:0.9rem; margin-bottom:1rem">${edital.banca}</p>
                    
                    <div style="display:flex; gap:10px; margin-bottom:1rem">
                        <small style="color:#aaa">üìÖ Prova: ${edital.dataProva}</small>
                    </div>

                    <div class="progress-container">
                        <div class="progress-bar" style="width: ${edital.progressoGeral}%"></div>
                    </div>
                    <span class="progress-text">${edital.progressoGeral}% Conclu√≠do</span>
                </div>
            `;
        });
    </script>
</body>

</html>